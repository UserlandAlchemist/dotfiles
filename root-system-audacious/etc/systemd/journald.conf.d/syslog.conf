# Override Debian's /usr/lib/systemd/journald.conf.d/syslog.conf
#
# Debian defaults to ForwardToSyslog=yes which assumes rsyslog is installed.
# In our minimal debootstrap install, rsyslog is not present, so we explicitly
# disable syslog forwarding.
#
# Persistent storage on ZFS: systemd-journald.service.d/wait-for-var.conf
# ensures /var is mounted before journald starts, preventing race conditions
# where journald attempts to access /var/log/journal before the ZFS dataset
# is ready.
#
# IMPORTANT: This file must be installed as a real file (not symlink) in /etc
# so it's available at early boot before /home is mounted. Use install.sh.

[Journal]
ForwardToSyslog=no
Storage=persistent
