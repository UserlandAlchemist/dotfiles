# Wait for /var mount before starting journald
#
# /var is a separate ZFS dataset (rpool/VAR). Journald must not start before
# /var is mounted, otherwise it fails to attach to the persistent journal and
# will not record system logs until restarted.
#
# IMPORTANT: This file must be installed as a real file (not symlink) in /etc
# so systemd can read it at early boot. Use install.sh.

[Unit]
After=var.mount zfs-mount.service
Wants=zfs-mount.service
RequiresMountsFor=/var /var/log/journal
